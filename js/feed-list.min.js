!function(t,i){i(document).ready(function(){if(1!=i("table.wp-list-table tbody tr").length){var t=gravityflow_feed_list_strings.hasStartStep,e=gravityflow_feed_list_strings.hasCompleteStep;i.each(i(".wp-list-table tbody tr"),function(){i(this).css("border-left","5px solid "+i(this).find(".step_highlight_color").css("background-color"))}),i(".wp-list-table .step_highlight").remove();i(".wp-list-table thead tr, .wp-list-table tfoot tr").append('<th class="sort-column"></th>'),t&&i(".wp-list-table tbody tr:first").addClass("static").append('<td class="sort-column">&nbsp;</td>').find("span.duplicate, span.delete").remove().end().find(".column-is_active").html("&nbsp;"),e&&i(".wp-list-table tbody tr:last").addClass("static").append('<td class="sort-column">&nbsp;</td>').find("span.duplicate, span.delete").remove().end().find(".column-is_active").html("&nbsp;"),i(".wp-list-table tbody tr").not(".static").append('<td class="sort-column"><i class="fa fa-bars feed-sort-handle"></i></td>'),i(".wp-list-table tbody").addClass("gravityflow-reorder-mode").sortable({items:"tr:not(.static)",tolerance:"pointer",placeholder:"step-drop-zone",helper:fixHelperModified,handle:".feed-sort-handle",update:function(t,e){var o={action:"gravityflow_save_feed_order",feed_ids:i(".wp-list-table tbody .check-column input[type=checkbox]").map(function(){return i(this).val()}).get(),form_id:form.id};i.post(ajaxurl,o).done(function(t){t||(console.log("Error re-ordering feeds"),console.log(t))}).fail(function(t){console.log("Error re-ordering feeds"),console.log(t)})},start:function(){i(".static",this).each(function(){var t=i(this);t.data("pos",t.index())})},change:function(){var o=i(this),t=i(".static",this).detach(),e=i("<tr></tr>").prependTo(this);t.each(function(){var t=i(this),e=t.data("pos");t.insertAfter(i("tr",o).eq(e))}),e.remove()}})}})}(window.GravityFlow=window.GravityFlow||{},jQuery);var fixHelperModified=function(t,e){var o=e.children();console.log("originals: "+o.length);var i=e.clone();return i.children().each(function(t){jQuery(this).width(o.eq(t).width())}),i};